---
title: ES6常用语法大盘点
date: 2017-11-15 22:16:33
tags:
    - ES6
    - Promise
---
## 0 前言

ES6已经流行很长一段时间了，尤其是Babel转化工具的普及，ReactJS等前端框架的发展也推动了ES6的普及。

<!--more-->

## 1 let, const关键字
1. 不存在变量提升

`let`用来声明一个变量，`const`用来声明一个常量，两者声明的变量或常量都不存在变量提升的现象，而用`var`声明的变量存在变量提升。所谓变量提升更加准确的描述就是**声明提升**，包括函数声明和变量声明。一个直观的代码示例：
```
if (true) {
    test();
}
function test () {
    console.log('test');
    var c = 3;
}
var a = 1;
var b = 2;
```

实际执行的代码类似于这样：

```
function test () {
    var c;
    console.log('test');
    c = 3;
}
var a;
var b;
if (true) {
    test();
}
a = 1;
b = 2;
```

可以看到变量的声明被提升到函数或脚本的顶部，而赋值仍然停留在原来的位置。函数的声明会被提升到脚本的顶部。函数定义有以下两种形式：
- 函数声明
```
function test() {}
```
- 函数表达式
```
var test = function() {}
```
函数声明会提升，函数表达式不提升，因为函数表达式实质就是变量赋值，将一个函数对象赋值给一个变量，而变量的赋值是不会提升的。

2. 块级作用域
正因为两者声明的变量都不存在变量提升，因此let和const声明的变量都有块级作用域，ES5中作用域类型只包括函数作用域和全局作用域，而let和const声明的变量有块级作用域，所谓块级作用域就是在if,for语句内部声明的变量在外部不可用。
```
function（） {
    if(true) {
        // 变量a和常量b的作用域只在语句内部
        let a = 1;
        const b = 2;
    }

    for (let i=0; i<10; i++) {
        // 变量i的作用域只在for语句内部
        console.log(i);
    }
}

```
3. const声明一个复合类型的数据
JS的数据类型包括原始数据类型(基本数据类型)：数字，字符串，布尔，null，undefined。以及复合数据类型（引用数据类型）：对象，数组，函数。对于简单数据类型变量，指向内存地址存的是一个具体的值，即一个常量。对于复合类型，变量存储的值是一个指针，const声明的变量只保证这个指针不变。看一下代码
```
const a = {
    age: 10,
    name: 'Tom'
};
// 对象a内部的值仍然是可以改变的
a.age = 10;

// 以下代码将报错，因为将a指向了一个新的对象
a = { sex: 'woman'};
```

## 2 箭头函数
1. this绑定
2. 语法说明

## 3 对象，数组，Spread，Reset

## 4 class类

## 5 模块化

## 6 Promise, fetch

## 7 装饰器

## 8 Set和Map数据结构